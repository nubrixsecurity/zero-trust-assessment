<#
NOTES

Example â€” Run with Partner association (custom PartnerId)

powershell -NoProfile -ExecutionPolicy Bypass -File $p `
    -TenantId $tenantId `
    -SubscriptionId $subId `
    -Partner `
    -PartnerIdDesired 7023112

#>

$tenantId = "your-tenant-id"
$subId    = "your-subscription-id"

$u = "https://raw.githubusercontent.com/nubrixsecurity/zero-trust-assessment/main/run-zta.ps1"
$p = Join-Path $env:TEMP "run-zta.ps1"

Invoke-WebRequest -Uri $u -OutFile $p

if (Get-Command pwsh -ErrorAction SilentlyContinue) {
    pwsh -NoProfile -ExecutionPolicy Bypass -File $p -TenantId $tenantId -SubscriptionId $subId
}
else {
    powershell -NoProfile -ExecutionPolicy Bypass -File $p -TenantId $tenantId -SubscriptionId $subId
}

exit
